/* Palette & typography */
:root {
    /* New Color Palette */
    --bg-main: #EED690;       /* Off-White */
    --text-dark: #393939;      /* Dark Gray */
    --accent-green: #849561;   /* Olive Green */
    --accent-yellow: #EED690;  /* Pale Yellow */
    /* Updated glass colors for translucent green */
    --glass-bg: rgba(132, 149, 97, 0.877); /* 85% opaque green */
    --glass-border: rgba(132, 149, 97, 0.974); /* 95% opaque green */
    --radius: 6rem; /* Back to 6rem border radius */
    /* New variable for graph lines */
    --graph-line-color: rgba(57, 57, 57, 0.08); /* Faint dark gray */
}

html,body {
    margin: 0;
    height: 100%;
    font-family: 'EB Garamond', serif;
    font-weight: 600;
    /* Set base background color */
    background-color: var(--bg-main);
    /* Apply graph paper lines */
    background-image:
      linear-gradient(to right, var(--graph-line-color) 1px, transparent 1px),
      linear-gradient(to bottom, var(--graph-line-color) 1px, transparent 1px);
    background-size: 25px 25px; /* Adjust size of grid squares */

    color: var(--text-dark);
    overflow: hidden; /* router controls scroll */
}

#app {
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    /* align-items: center; */ /* Centering is handled by header/main width */
    /* padding-top: 2rem; */ /* Removed padding from app */
    box-sizing: border-box;
    overflow-y: auto;
}

/* New Sticky Header Styles */
#page-header {
    position: sticky;
    top: 0;
    z-index: 10;
    /* Use accent green for header background - Replace with glass effect */
    /* background-color: var(--accent-green); */
    background: var(--glass-bg); /* Apply glass background */
    border-bottom: 1px solid var(--glass-border); /* Add subtle border */
    backdrop-filter: blur(12px) saturate(160%); /* Apply backdrop filter */
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 1rem 0;
    box-sizing: border-box;
    /* Ensure text inside header remains dark */
    color: var(--text-dark);
}

/* Title Area Styling (lives inside header) */
.title-area-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 90%;
    max-width: 600px;
    padding-left: 1.5rem; /* Increased mobile horizontal padding */
    padding-right: 1.5rem; /* Increased mobile horizontal padding */
    box-sizing: border-box;
    /* Color is inherited from #page-header */
}

/* New Main Content Area */
#page-content {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    /* padding-top: 1rem; */ /* Removed top padding */
    flex-grow: 1;
}

/* Grid Layout Styling (lives inside main) */
.entry-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    padding: 1rem;
    width: 90%;
    max-width: 600px;
}

/* Frosted‑glass card */
.card {
    aspect-ratio: 1 / 1;
    backdrop-filter: blur(12px) saturate(160%);
    /* These now use the translucent green vars */
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    padding: 1rem;
    transition: backdrop-filter .4s ease, transform .4s ease, opacity .4s;
    width: 100%; /* Explicitly fill container width */
    max-width: 300px; /* Limit size on mobile */
    margin: 0 auto; /* Center card in mobile column if max-width applies */
    overflow: hidden;
}

/* Card Text Styling (Mobile First) */
.card h2 {
    font-size: 1.5rem; /* Smaller heading */
    margin-bottom: 0.25rem;
}
.card .subtitle {
    font-size: 0.8rem;
}
.card .description {
    font-size: 0.75rem;
    margin-top: 0.4rem;
}

/* Removed Card Animating State */
/*
.card.animating {
    z-index: 11; 
    position: relative;
}
*/

.card:hover {
    transform: translateY(-6px);
}

/* Title & body text */
h1,h2,h3 {
    font-family: 'Raleway', sans-serif;
    margin: 0 0 .5rem;
    letter-spacing: .02em;
    color: var(--text-dark); /* Ensure headings use dark text */
}

/* Double‑diamond container */
.diamond-wrap {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}
.phase {
    width: 22vmin;
    height: 22vmin;
    position: relative;
    background: var(--glass-bg);     /* Use translucent dark gray */
    border: 1px solid var(--glass-border); /* Use slightly more opaque dark gray border */
    backdrop-filter: blur(10px);
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    transition: opacity .4s ease;
}
.phase.right { clip-path: polygon(0 0, 100% 0, 50% 100%); }

/* nav arrows */
.arrow-btn {
    background: none;
    border: none;
    color: var(--text-dark); /* Match text color */
    cursor: pointer;
    transition: transform .3s;
    user-select: none;
    /* Font size set in JS */
}
.arrow-btn:hover { transform: scale(1.2); }

/* Media Query for larger screens */
@media (min-width: 600px) {
    .title-area-container {
        width: clamp(400px, 70vw, 800px);
        max-width: 800px;
        padding-left: 2rem;
        padding-right: 2rem;
    }

    #page-content {
        /* padding-top: 2rem; */ /* Removed top padding override */
    }

    .entry-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
        padding: 2rem;
        width: clamp(400px, 70vw, 800px);
        max-width: 800px;
    }

    .card {
       padding: 1rem;
       max-width: none; /* Remove mobile max-width */
       width: auto; /* Revert width for desktop to allow gap */
       margin: 0; /* Reset margin inherited from mobile */
    }

    /* Optional: Adjust card text size back up for desktop if needed */
    .card h2 {
        font-size: 1.8rem; /* Slightly larger heading for desktop */
    }
    .card .subtitle {
        font-size: 0.9em; /* Restore from JS */
    }
    .card .description {
        font-size: 0.8em; /* Restore from JS */
        margin-top: 0.5rem; /* Restore from JS */
    }
}

/* Doodle Background Styles */
#doodle-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 0; /* Try 0 to be above body bg */
    overflow: hidden; /* Prevent doodles going off-screen causing scroll */
    pointer-events: none; /* Allow clicks to pass through */
    /* background-color: rgba(255, 0, 0, 0.2);  Temporary: Removed */
}

.background-doodle {
    position: absolute;
    opacity: 0.90; /* Adjusted opacity to 90% */
    max-width: 70px; /* Further reduced max size */
    height: auto;
    /* Add transform-origin for better scaling/rotation */
    transform-origin: center center;
}